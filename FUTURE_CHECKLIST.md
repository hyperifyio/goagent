* [ ] Configure GitHub Actions CI to enforce quality gates: `.github/workflows/ci.yml` with jobs on push/PR that set up Go 1.21+, cache modules, run `make lint`, `go test -race -cover ./...`, and `make build build-tools`; upload `bin/agentcli` as an artifact; set `permissions: contents: read` and fail the build on any non-zero step; matrix over `os: [ubuntu-latest, macos-latest, windows-latest]`.
* [ ] Amend the planned CI Go version reference in the planned CI checklist entry to use Go 1.24+ instead of 1.21+ so the matrix matches go.mod and README, smallest change is editing that single line only without altering other content, scope documentation hygiene, low risk and independent, DoD includes confirming the wording now states 1.24+ and later CI uses that floor, tests unchanged and green with no coverage regression, all quality gates green, peer review completed, verification by rendering the file and confirming consistency, rollback by restoring the previous wording.
* [ ] Switch submodule URLs in .gitmodules from SSH to HTTPS to simplify CI clones without SSH keys (public submodules .cursor/rules and scripts), smallest change is editing .gitmodules and running git submodule sync; scope repository hygiene; low risk; DoD includes actions/checkout with submodules enabled succeeding in a new CI workflow, tests unchanged and green with no coverage regression, all quality gates green, peer review completed, verification by observing CI clone success without extra SSH setup and local git submodule update --init works, rollback by reverting the .gitmodules change and syncing.
* [ ] Document and automate submodule initialization by adding a Makefile bootstrap target that runs git submodule update --init --recursive and updating README Installation to include this step so a clean clone reliably fetches .cursor/rules and scripts without SSH keys, smallest change is one Makefile target and a brief README edit, scope Makefile and docs, low risk and independent with no code changes, DoD includes running from a clean clone on Linux and macOS to execute make bootstrap build build-tools successfully with all tests green and no coverage regression and all quality gates green in CI including vet format lint security and secret detection with no new findings, verification by following the updated steps locally and in CI where actions checkout with submodules true succeeds, rollback by reverting the Makefile target and README sentence.
* [ ] Add lint/type checks and formatting gates: include `.golangci.yml` enabling `govet`, `gofmt`, `errcheck`, `staticcheck`, `gocyclo` (with reasonable thresholds), `gosimple`; add `make lint` that installs `golangci-lint` if missing and runs it; ensure `go vet ./...` and `gofmt -s -l` produce no output; fail CI if any lints fail.
* [ ] Strengthen the Makefile test target to run go test -race -cover ./... and write a coverage profile under bin/coverage.out so local testing matches planned CI gates, smallest change is editing the Makefile test recipe only; scope Makefile; low risk; DoD includes running make test from a clean clone succeeds with race detector enabled and coverage file produced, tests otherwise unchanged and green with no coverage regression, all quality gates green with no new findings, peer review completed, verification by observing race-enabled run and generated coverage file, rollback by reverting the Makefile edit.
* [ ] Eliminate gofmt drift by running gofmt -s -w on tools/fs_search/main.go, tools/timecli/main.go, and tools/timecli_test.go so fmtcheck passes deterministically; smallest change is formatting those files only; scope formatting; low risk; DoD includes make lint and make fmtcheck passing locally and in CI with no other diffs, tests unchanged and green with no coverage regression, all quality gates green, peer review completed, verification by observing no output from gofmt -s -l ., rollback by reverting the formatting changes.
* [ ] Eliminate residual gofmt -s drift by formatting tools/fs_apply_patch/main.go and tools/fs_apply_patch_test.go so fmtcheck passes deterministically; smallest change is formatting these files only; scope formatting; low risk; DoD includes an initial failing fmtcheck then passing with no other diffs, tests unchanged and green with race and coverage enabled, all quality gates green (vet, golangci-lint, static analysis, security and secret detection) with no new findings, peer review completed, verification by running make lint and observing no gofmt output, rollback by reverting the formatting edits.
* [ ] Add a make fmt target that runs gofmt -s -w over the repository and mention it briefly in README near lint so developers can apply formatting easily, smallest change is adding the target and a one line README note, scope Makefile and docs, low risk; DoD includes running make fmt with no unintended diffs, tests unchanged and green with no coverage regression, all quality gates green, peer review completed, verification by running the command locally, rollback by reverting the edits.
* [ ] Add a .gitattributes file to enforce LF line endings for Go, Markdown and shell scripts and to normalize text files to avoid CRLF-related failures and noisy diffs, smallest change is committing a single .gitattributes with patterns only; scope repository hygiene; low risk; DoD includes tests unchanged and green with no coverage regression, deterministic runs locally and in CI with no new findings from vet, format, lint, security scanning and secret detection, verification by creating a CRLF file then confirming Git normalizes to LF on checkout and go test ./... passes on Linux and Windows without spurious failures, rollback by reverting the .gitattributes file.
* [ ] Add a minimal .editorconfig (root=true) specifying utf-8, end_of_line=lf, insert_final_newline=true, indent_style=tab for Go and indent_style=space indent_size=2 for Markdown and YAML to reduce formatting drift across editors, smallest change is committing the single .editorconfig file; scope repository hygiene; low risk; DoD includes tests unchanged and green with no coverage regression, all quality gates green (vet, format, golangci-lint, static analysis, security scanning and secret detection) with no new findings, verification by saving files in common editors and observing no diffs beyond gofmt expectations, rollback by reverting the file.
* [ ] Add a make vuln target that installs and runs govulncheck ./... and wire it into CI after unit tests to fail builds on known vulnerabilities, smallest change is adding the target in the Makefile and a CI step once workflows exist; scope security scanning; low risk; DoD includes make vuln passing locally on a clean tree, CI green with the new step and no new findings, tests unchanged and green with no coverage regression, all gates green, peer review completed, verification by introducing a known vulnerable transient dependency in a branch to see CI fail then removing it restores green, rollback by reverting the Makefile and CI edits.
* [ ] Add secret detection with gitleaks via a make secrets target and a CI step using the official action with a minimal .gitleaks.toml allowlist to reduce false positives, smallest change is adding the config, target and CI step; scope security hygiene; low risk; DoD includes make secrets passing locally on a clean tree, CI green with no new leaks, tests unchanged and green with no coverage regression, all gates green, peer review completed, verification by committing a fake test secret in a branch to observe CI fail then removing it restores green, rollback by reverting the config and CI step.
* [ ] Standardize all Bash scripts under scripts to use env bash shebang and strict mode set -euo pipefail and add a make shellcheck target with a minimal configuration plus a CI step to run it, because several scripts currently lack pipefail or only set -u which weakens detection of failures; smallest change is editing script headers, adding one Makefile target, and a short workflow step; scope scripts, Makefile, CI; low risk; DoD includes an initial failing run then passing with zero shellcheck warnings, tests unchanged and green with no coverage regression, all quality gates green, peer review completed, verification by running shellcheck locally and observing CI green, rollback by reverting the script, Makefile, and workflow edits.
* [ ] CI smoke job for tools — workflow builds tools, runs each binary with sample stdin, and runs an agent loop against a fake API; no external network dependence; DoD: green in PRs, artifacts attached, linked to issue.
* [ ] Add reports and coverage artifacts to .gitignore including reports/ tests directory and coverage outputs so running the test runner does not create noisy untracked files, smallest change is appending ignore patterns only, scope repository hygiene, low risk; DoD includes running scripts/test-runner.sh and verifying git status is clean, tests unchanged and green with no coverage regression, all quality gates green, peer review completed, verification by git status before and after, rollback by removing the new ignore lines.
* [ ] Augment the root .gitignore to include standard entries for the dist directory, macOS .DS_Store, the Go go.work workspace file, and common IDE folders .idea and .vscode to prevent accidental commits of local artifacts, smallest change is appending those patterns only to the existing file, scope repository hygiene, low risk and independent, DoD includes running git status before and after creating those files locally to confirm they are ignored, tests unchanged and green with no coverage regression, all quality gates green (vet, format, lint, static and security scans, secret detection) with no new findings, peer review completed, verification by reproducing the ignore behavior on a clean clone, rollback by reverting the .gitignore addition.
* [ ] Add docs/operations/ci-quality-gates.md mapping each quality gate to exact local commands and expected outputs for lint vet fmt unit and integration tests and coverage including a note on fixing golangci-lint not found by adding the Go bin directory to PATH, smallest change is one runbook file and a link from README Tests, low risk, DoD includes commands verified from a clean clone tests unchanged and green with no coverage regression all gates green in CI peer review completed verification by following steps locally rollback by reverting the doc and links, traceability https://github.com/hyperifyio/goagent/issues/213.
* [ ] Document the release process in docs/releasing.md including tagging artifact naming checksums and verification and rollback guidance aligned with the planned release workflow, smallest change is a single page and links from README and the future release workflow, scope documentation, low risk, DoD includes dry run steps validated locally without publishing tests unchanged and green all quality gates green peer review completed verification by executing the documented commands in dry run rollback by removing the doc and links, traceability https://github.com/hyperifyio/goagent/issues/214.
* [ ] Add release workflow for static binaries and checksums: `.github/workflows/release.yml` triggered on tags like `v*`; build `agentcli` for `linux,darwin,windows` × `amd64,arm64` with `CGO_ENABLED=0`; name outputs `agentcli_<os>_<arch>` (Windows `.exe`); generate `SHA256SUMS` and `SHA256SUMS.sig` (optional GPG); create GitHub Release and upload artifacts and checksums; document in README how to download and verify.
* [ ] Add a make sbom target that uses syft (or cyclonedx-gomod as a fallback if syft is unavailable) to produce a CycloneDX SBOM at reports/sbom.json from the current module and wire it into the release workflow to upload as an asset, because the repo currently lacks an SBOM which weakens supply-chain visibility; smallest change is adding one Makefile target and a short CI step with a docs sentence; scope Makefile and CI; low risk; DoD includes failing first when the tool is missing then passing with deterministic output on a clean clone, tests unchanged and green with no coverage regression, all quality gates green (vet, format, golangci-lint, static analysis, security and secret scans) with no new findings, backward compatibility preserved, peer review completed, verification by running make sbom locally and seeing reports/sbom.json and by confirming the asset on a tagged release, rollback by reverting the Makefile and workflow edits.
* [ ] Make builds reproducible by adding -trimpath and stripped ldflags to Makefile build and build-tools while keeping static CGO settings and documenting the change succinctly, smallest change is editing the build recipes only and a short README sentence, scope Makefile and docs, low risk; DoD includes two clean builds producing identical checksums for binaries, tests unchanged and green with no coverage regression, all quality gates green, peer review completed, verification by comparing shasums of repeated builds, rollback by reverting the Makefile edits.
* [ ] Expand make clean to remove build/test artifacts like bin/coverage.out and reports/ to keep the working tree tidy after local runs, because currently these files remain and can cause noisy diffs; smallest change is editing the clean recipe only; scope Makefile; low risk; DoD includes running make build build-tools test to create artifacts then make clean to remove them with git status clean, tests unchanged and green with no coverage regression, all quality gates green, peer review completed, verification by reproducing the sequence on a clean clone, rollback by reverting the Makefile edit.
* [ ] Tag and publish `v0.1.0` once CI is green and docs/tests are complete: ensure `README.md` has usage, examples, and limitations (no streaming, sequential tool calls only); ADR-0001 and sequence diagram present; unit and integration tests passing; create annotated tag `git tag -a v0.1.0 -m "MVP non-interactive agent CLI with OpenAI-compatible tools"` and `git push --tags`.
* [ ] Implement log redaction — configurable patterns/keys in runner (mask env and output: e.g., tokens); DoD: tests proving masking for env and stdout/stderr, README config section, CI green.
* [ ] Bound tools/fs_search scanning by skipping known binary/output directories (e.g., .git, bin, logs, tools/* built binaries) and enforcing a sane per-file size limit with clear errors to prevent performance and memory spikes on large repositories; smallest change is editing tools/fs_search/main.go only; scope tools; moderate risk due to traversal changes; DoD includes unit tests covering directory exclusion, size limits, and unchanged matching semantics on text files, tests green locally and in CI with no coverage regression, all quality gates green (vet, format, golangci-lint, static analysis, security/secret detection) with no new findings, docs/runbooks updated with the exclusions, peer review completed, verification by searching a repo containing large/binary files and observing fast, bounded behavior, rollback by reverting the changes.
* [ ] Streamline .gitignore by removing redundant explicit ignore entries like tools/exec_test, tools/fs_*_test, and tools/fs_read_file that are already covered by the general tools/* ignore patterns to reduce confusion and maintenance with no change to behavior; smallest change is editing .gitignore only; scope repository hygiene; low risk; DoD includes tests unchanged and green with no coverage regression, all quality gates green, git status remaining clean before and after make build-tools, verification by rebuilding tools and confirming no new tracked files and identical ignore behavior, rollback by reverting the .gitignore edit.
 
## Review 2025-08-15
* [ ] Add .goagent/ to .gitignore and untrack any committed audit logs to stop committing runtime audit files, because go test created cmd/agentcli/.goagent/audit/20250815.log and internal/tools/.goagent/audit/20250815.log which now show as modified; smallest change: append .goagent/ ignore and run git rm --cached on existing logs; scope .gitignore and git index only; low risk; DoD: go test ./... creates logs but git status stays clean, CI and all quality gates (vet, fmt, lint, security, secret detection) green with no coverage regression; verify by running tests then git status; rollback by reverting .gitignore and re-adding files.
* [ ] Centralize audit logs under repository root .goagent/audit/YYYYMMDD.log by resolving module root (walk up to go.mod) in internal/tools/runner.go instead of using current working directory so subpackage tests no longer create nested .goagent directories; smallest change: edit appendAuditLog to compute root and write there; scope internal/tools only; low risk; DoD: failing test first then passing implementation, go test -race -cover ./... green with quality gates and docs unchanged, verify only root path receives logs and they are ignored by Git, rollback by reverting the change.
* [ ] Fix Makefile lint target to call golangci-lint reliably after on-demand install by referencing the binary at the Go GOPATH bin directory (go env GOPATH)/bin/golangci-lint or by exporting GOBIN=./bin and adding it to PATH within the recipe, because make lint currently prints Installing golangci-lint then fails with command not found; smallest change: edit the Makefile lint recipe only; scope Makefile; low risk; DoD: make lint succeeds on a clean machine and in CI with all gates green and no coverage regression; verify by removing the binary from PATH and running make lint; rollback by reverting the Makefile change.
* [ ] Adjust .gitignore patterns to ignore only built tool binaries (for example tools/bin/**) while keeping all Go sources under tools/** tracked so future canonical layout tools/cmd/NAME/*.go are not accidentally ignored by the existing tools/*/* blanket ignore; smallest change: replace broad patterns with precise ignores and explicit unignores for .go files recursively; scope .gitignore; low risk; DoD: creating tools/cmd/demo/main.go shows as tracked while built binaries under tools/bin are ignored and git status is clean after make build-tools, all gates green; verify by the described steps; rollback by reverting the .gitignore edit.